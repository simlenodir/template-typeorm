CREATE TABLE "products" (
  "product_id" uuid PRIMARY KEY,
  "category_id" uuid,
  "sub_sub_id" uuid,
  "sub_id" uuid,
  "title" varchar(64),
  "price" varchar(64),
  "comments" varchar,
  "rate" integer,
  "img" varchar
);

CREATE TABLE "categories" (
  "category_id" uuid PRIMARY KEY,
  "title" varchar(64)
);

CREATE TABLE "sub_categories" (
  "sub_id" uuid PRIMARY KEY,
  "category_id" uuid,
  "title" varchar(64)
);

CREATE TABLE "sub_sub_category" (
  "sub_sub_id" uuid PRIMARY KEY,
  "title" varchar(128),
  "sub_id" uuid
);

CREATE TABLE "custommers_entity" (
  "id" uuid PRIMARY KEY,
  "name" varchar(64),
  "password" varchar(64),
  "phone" varchar(64),
  "email" text UNIQUE
);

CREATE TABLE "orders" (
  "id" uuid PRIMARY KEY,
  "product_id" uuid,
  "user_id" varchar(64),
  "sum" varchar
);

ALTER TABLE "categories" ADD FOREIGN KEY ("category_id") REFERENCES "sub_categories" ("category_id");

ALTER TABLE "custommers" ADD FOREIGN KEY ("id") REFERENCES "orders" ("user_id");

ALTER TABLE "sub_categories" ADD FOREIGN KEY ("sub_id") REFERENCES "sub_sub_category" ("sub_id");

ALTER TABLE "sub_sub_category" ADD FOREIGN KEY ("sub_sub_id") REFERENCES "products" ("sub_sub_id");

ALTER TABLE "products" ADD FOREIGN KEY ("product_id") REFERENCES "orders" ("product_id");

ALTER TABLE "sub_categories" ADD FOREIGN KEY ("sub_id") REFERENCES "products" ("sub_id");

ALTER TABLE "categories" ADD FOREIGN KEY ("category_id") REFERENCES "products" ("category_id");
